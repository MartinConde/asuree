import React from "react"
import styled from "styled-components"
import { GatsbyImage, getImage } from "gatsby-plugin-image"
import { useBreakpoint } from "gatsby-plugin-breakpoints"

const Wrapper = styled.div`
  position: relative;
  width: 100%;
  height: 75vh;
  box-shadow: 0 0 25px rgba(0, 0, 51, 1);

  .gatsby-image-wrapper {
    width: 100%;
    height: 75vh;
  }

  &::after {
    content: "";
    position: absolute;
    z-index: 0;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgb(0, 0, 51);
    background: linear-gradient(
      0deg,
      rgba(0, 0, 51, 1) 0%,
      rgba(0, 0, 51, 0) 80%
    );
  }

  @media (min-width: 1300px) {
    height: 55vh;
    .gatsby-image-wrapper {
      height: 55vh;
    }
    &::after {
      background: linear-gradient(
        0deg,
        rgba(0, 0, 51, 1) 0%,
        rgba(0, 0, 51, 0) 40%
      );
    }
  }
`

const Content = styled.div`
  position: absolute;
  left: 0;
  bottom: 5px;
  padding: 15px;
  width: 100%;
  max-width: 1200px;
  z-index: 9;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;

  path {
    fill: #fff;
  }

  @media (min-width: 1300px) {
    bottom: 25px;
    left: 50%;
    transform: translateX(-50%);
    align-items: center;
    padding: 0;
  }
`

const Bar = styled.div`
  color: #fff;

  @media (min-width: 1300px) {
    display: flex;
    align-items: center;
  }
`

const BarItem = styled.div`
  display: flex;
  align-items: center;
  padding: 5px;

  svg {
    height: 40px;
    margin-right: 8px;
  }

  @media (min-width: 1300px) {
    padding: 10px 10px 10px 0;
  }
`

const GalerieBtn = styled.button`
  display: flex;
  align-items: center;
  background: rgba(12, 178, 247, 0.46);
  border-radius: 0;
  border: none;
  border-radius: 0;
  color: #fff;
  padding: 10px;
  transition: 0.3s all ease-out;

  svg {
    height: 30px;
  }

  &:hover {
    cursor: pointer;
    background: rgba(12, 178, 247, 1);
  }

  @media(min-width: 1300px) {
    padding: 8px 26px;

    svg {
      margin-left: 15px;
    }
  }
`

export default function Hero({
  image,
  imageAlt,
  location,
  level,
  owner,
  openGal,
}) {
  const breakpoints = useBreakpoint()
  return (
    <Wrapper>
      <GatsbyImage image={getImage(image)} alt={imageAlt} />

      <Content>
        <Bar>
          <BarItem>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <path d="M26.151 24.172c6.042-12.77 21.296-18.221 34.066-12.179 12.774 6.045 18.225 21.296 12.18 34.069L49.274 94.925 26.151 46.062a25.592 25.592 0 010-21.89zm2.468 20.727l20.655 43.639L69.93 44.899c5.399-11.416.53-25.038-10.881-30.435-11.408-5.396-25.026-.531-30.43 10.876a22.902 22.902 0 000 19.559z" />
              <path d="M52.033 23.754a2.56 2.56 0 00-2.562-2.557 2.555 2.555 0 000 5.11 2.558 2.558 0 002.562-2.553z" />
              <path d="M57.116 26.885l-1.944 4.628a3.404 3.404 0 01-5.612 1.009L48.034 30.9a.63.63 0 00-.895-.033c-.026.025-.047.055-.068.076l-1.569 2.076a3.4 3.4 0 00-.688 1.902l-.274 6.307a3.349 3.349 0 01-.498 1.637l-3.552 5.779h-4.231l4.219-6.871a3.357 3.357 0 00.498-1.633l.279-6.498c.033-.691.27-1.357.687-1.91l2.856-3.76c.114-.151.237-.295.38-.417a3.392 3.392 0 014.805.147l1.32 1.409a.63.63 0 001.042-.194l.544-1.282a2.564 2.564 0 01-.484-2.733 2.557 2.557 0 014.711 1.983zM56.45 30.795h2.479a2.556 2.556 0 003.385 1.271 2.556 2.556 0 00-1.055-4.882h-3.295l-1.514 3.611z" />
              <path d="M50.308 42.891l.856 5.754h3.648l-1.143-7.668a3.402 3.402 0 00-1.211-2.136L48.7 35.777a1.802 1.802 0 10-2.278 2.794l2.674 2.185a3.437 3.437 0 011.212 2.135z" />
            </svg>
            <span>{location}</span>
          </BarItem>
          <BarItem>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <path d="M26.151 24.172c6.042-12.77 21.296-18.221 34.066-12.179 12.774 6.045 18.225 21.296 12.18 34.069L49.274 94.925 26.151 46.062a25.592 25.592 0 010-21.89zm2.468 20.727l20.655 43.639L69.93 44.899c5.399-11.416.53-25.038-10.881-30.435-11.408-5.396-25.026-.531-30.43 10.876a22.902 22.902 0 000 19.559z" />
              <path d="M52.033 23.754a2.56 2.56 0 00-2.562-2.557 2.555 2.555 0 000 5.11 2.558 2.558 0 002.562-2.553z" />
              <path d="M57.116 26.885l-1.944 4.628a3.404 3.404 0 01-5.612 1.009L48.034 30.9a.63.63 0 00-.895-.033c-.026.025-.047.055-.068.076l-1.569 2.076a3.4 3.4 0 00-.688 1.902l-.274 6.307a3.349 3.349 0 01-.498 1.637l-3.552 5.779h-4.231l4.219-6.871a3.357 3.357 0 00.498-1.633l.279-6.498c.033-.691.27-1.357.687-1.91l2.856-3.76c.114-.151.237-.295.38-.417a3.392 3.392 0 014.805.147l1.32 1.409a.63.63 0 001.042-.194l.544-1.282a2.564 2.564 0 01-.484-2.733 2.557 2.557 0 014.711 1.983zM56.45 30.795h2.479a2.556 2.556 0 003.385 1.271 2.556 2.556 0 00-1.055-4.882h-3.295l-1.514 3.611z" />
              <path d="M50.308 42.891l.856 5.754h3.648l-1.143-7.668a3.402 3.402 0 00-1.211-2.136L48.7 35.777a1.802 1.802 0 10-2.278 2.794l2.674 2.185a3.437 3.437 0 011.212 2.135z" />
            </svg>
            <span>{level}</span>
          </BarItem>
          <BarItem>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <path d="M26.151 24.172c6.042-12.77 21.296-18.221 34.066-12.179 12.774 6.045 18.225 21.296 12.18 34.069L49.274 94.925 26.151 46.062a25.592 25.592 0 010-21.89zm2.468 20.727l20.655 43.639L69.93 44.899c5.399-11.416.53-25.038-10.881-30.435-11.408-5.396-25.026-.531-30.43 10.876a22.902 22.902 0 000 19.559z" />
              <path d="M52.033 23.754a2.56 2.56 0 00-2.562-2.557 2.555 2.555 0 000 5.11 2.558 2.558 0 002.562-2.553z" />
              <path d="M57.116 26.885l-1.944 4.628a3.404 3.404 0 01-5.612 1.009L48.034 30.9a.63.63 0 00-.895-.033c-.026.025-.047.055-.068.076l-1.569 2.076a3.4 3.4 0 00-.688 1.902l-.274 6.307a3.349 3.349 0 01-.498 1.637l-3.552 5.779h-4.231l4.219-6.871a3.357 3.357 0 00.498-1.633l.279-6.498c.033-.691.27-1.357.687-1.91l2.856-3.76c.114-.151.237-.295.38-.417a3.392 3.392 0 014.805.147l1.32 1.409a.63.63 0 001.042-.194l.544-1.282a2.564 2.564 0 01-.484-2.733 2.557 2.557 0 014.711 1.983zM56.45 30.795h2.479a2.556 2.556 0 003.385 1.271 2.556 2.556 0 00-1.055-4.882h-3.295l-1.514 3.611z" />
              <path d="M50.308 42.891l.856 5.754h3.648l-1.143-7.668a3.402 3.402 0 00-1.211-2.136L48.7 35.777a1.802 1.802 0 10-2.278 2.794l2.674 2.185a3.437 3.437 0 011.212 2.135z" />
            </svg>
            <span>{owner}</span>
          </BarItem>
        </Bar>
        {breakpoints.l ? (
          <GalerieBtn onClick={openGal}>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 21">
              <path d="M22.176 20.569H2.41c-1.285 0-2.41-1.045-2.41-2.41v-13.9c0-1.286 1.045-2.411 2.41-2.411h19.686c1.285 0 2.41 1.044 2.41 2.41v13.98c.08 1.286-1.045 2.33-2.33 2.33zM2.41 3.053c-.642 0-1.124.482-1.124 1.205v13.98c0 .643.562 1.206 1.205 1.206h19.685c.643 0 1.205-.563 1.205-1.205V4.259c0-.643-.562-1.206-1.205-1.206H2.41z" />
              <path d="M15.668 16.953c-3.134 0-5.705-2.57-5.705-5.704s2.571-5.705 5.705-5.705c3.133 0 5.704 2.571 5.704 5.705 0 3.133-2.57 5.704-5.704 5.704zm0-10.284c-2.491 0-4.5 2.008-4.5 4.5 0 2.49 2.009 4.499 4.5 4.499 2.49 0 4.499-2.009 4.499-4.5 0-2.49-2.009-4.5-4.5-4.5zM7.955 4.982h-4.5v1.205h4.5V4.982zM5.865 0H4.66v2.49h1.205V0z" />
              <path d="M15.668 13.578c-1.366 0-2.41-1.044-2.41-2.41s1.044-2.41 2.41-2.41 2.41 1.044 2.41 2.41-1.125 2.41-2.41 2.41zm0-3.535c-.643 0-1.205.562-1.205 1.205s.562 1.205 1.205 1.205 1.205-.562 1.205-1.205c-.08-.723-.563-1.205-1.205-1.205z" />
            </svg>
          </GalerieBtn>
        ) : (
          <GalerieBtn onClick={openGal}>
            <span>Alle Bilder anschauen </span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 21">
              <path d="M22.176 20.569H2.41c-1.285 0-2.41-1.045-2.41-2.41v-13.9c0-1.286 1.045-2.411 2.41-2.411h19.686c1.285 0 2.41 1.044 2.41 2.41v13.98c.08 1.286-1.045 2.33-2.33 2.33zM2.41 3.053c-.642 0-1.124.482-1.124 1.205v13.98c0 .643.562 1.206 1.205 1.206h19.685c.643 0 1.205-.563 1.205-1.205V4.259c0-.643-.562-1.206-1.205-1.206H2.41z" />
              <path d="M15.668 16.953c-3.134 0-5.705-2.57-5.705-5.704s2.571-5.705 5.705-5.705c3.133 0 5.704 2.571 5.704 5.705 0 3.133-2.57 5.704-5.704 5.704zm0-10.284c-2.491 0-4.5 2.008-4.5 4.5 0 2.49 2.009 4.499 4.5 4.499 2.49 0 4.499-2.009 4.499-4.5 0-2.49-2.009-4.5-4.5-4.5zM7.955 4.982h-4.5v1.205h4.5V4.982zM5.865 0H4.66v2.49h1.205V0z" />
              <path d="M15.668 13.578c-1.366 0-2.41-1.044-2.41-2.41s1.044-2.41 2.41-2.41 2.41 1.044 2.41 2.41-1.125 2.41-2.41 2.41zm0-3.535c-.643 0-1.205.562-1.205 1.205s.562 1.205 1.205 1.205 1.205-.562 1.205-1.205c-.08-.723-.563-1.205-1.205-1.205z" />
            </svg>
          </GalerieBtn>
        )}
      </Content>
    </Wrapper>
  )
}
